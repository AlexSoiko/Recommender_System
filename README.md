# Recommender System ‚Äî Flask+TensorFlow

## –û –ø—Ä–æ–µ–∫—Ç–µ
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤. 
–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ TensorFlow –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (—ç–º–±–µ–¥–¥–∏–Ω–≥–∏) –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤.
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–≤–µ–ª–∏—á–∏—Ç—å –æ–±–æ—Ä–æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ 15% –∑–∞ —Å—á–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:
*Accuracy* - –æ–±—â–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
*Precision* - —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
*Recall* - –ø–æ–ª–Ω–æ—Ç–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
*F1-Score* - –≥–∞—Ä–º–æ–Ω–∏—á–µ—Å–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ
*Cosine Similarity* - –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ú–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤;
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ - –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞;
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π web-UI –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π;
- REST API - –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä API endpoints –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏;
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã;
- Docker-–ø–æ–¥–¥–µ—Ä–∂–∫–∞ - –ª–µ–≥–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ª—é–±–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏

## –î–∞–Ω–Ω—ã–µ
–ò—Å—Ç–æ—á–Ω–∏–∫: –¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤ *.csv (`events`, `item_properties`, `category_tree`).
–û–±—ä—ë–º: –î–∞–Ω–Ω—ã–µ –æ —Ç–∞–∫–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö, –∫–∞–∫ –∫–ª–∏–∫–∏, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–æ–±—Ä–∞–Ω—ã –∑–∞ –ø–µ—Ä–∏–æ–¥ –≤ 4,5 –º–µ—Å—è—Ü–∞. –ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–≤–µ—Ä—à–∞—Ç—å —Ç—Ä–∏ —Ç–∏–ø–∞ –¥–µ–π—Å—Ç–≤–∏–π, –∞ –∏–º–µ–Ω–Ω–æ ‚Äú–ø—Ä–æ—Å–º–æ—Ç—Ä‚Äù (‚Äúview‚Äù), ‚Äú–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É‚Äù (‚Äúaddtocart‚Äù) –∏–ª–∏ ‚Äú—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è‚Äù (‚Äútransaction‚Äù). –í—Å–µ–≥–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ 2 756 101 —Å–æ–±—ã—Ç–∏–µ, –≤–∫–ª—é—á–∞—è 2 664 312 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤, 69 332 –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ 22 457 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö 1 407 580 —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º–∏.
–§–∞–π–ª —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ (item_properties.csv) —Å–æ–¥–µ—Ä–∂–∏—Ç 20 275 902 —Å—Ç—Ä–æ–∫–∏, —Ç.–µ. —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ 417 053 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞. –§–∞–π–ª —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 2 —Ñ–∞–π–ª–∞ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ —Ä–∞–∑–º–µ—Ä—É. –ü–æ—Å–∫–æ–ª—å–∫—É —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–µ–Ω–∞ –º–µ–Ω—è–µ—Ç—Å—è —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏), –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ñ–∞–π–ª–µ –∏–º–µ–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ñ–∞–π–ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–Ω–∏–º–∫–æ–≤ –∑–∞ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –≤ —Ñ–∞–π–ª–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–≤–µ–¥–µ–Ω–∏–∏

## –ü—Ä–∏–∑–Ω–∞–∫–∏ (features)
- –°–æ–±—ã—Ç–∏—è: `view`, `addtocart`, `transaction` (–∞ —Ç–∞–∫–∂–µ –∏—Ö —Å—á–µ—Ç—á–∏–∫–∏ –ø–æ user‚Äìitem).
- –í—Ä–µ–º—è: –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, —á–∞—Å, ¬´—á–∞—Å—Ç—å —Å—É—Ç–æ–∫¬ª (Night/Morning/Afternoon/Evening).
- –¢–æ–≤–∞—Ä—ã: —Ç–æ–ø‚Äë20 —Å–≤–æ–π—Å—Ç–≤ (–≤–∫–ª—é—á–∞—è `categoryid`, `available`) ‚Üí one‚Äëhot/—Å—á–µ—Ç—á–∏–∫–∏.

## –í–∞–ª–∏–¥–∞—Ü–∏—è
–ò–º–µ–µ–º –¥–≤–∞ —Ç–∏–ø–∞ –º–æ–¥–µ–ª–µ–π: –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∞—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è.
–î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ–±—É—á–∞—é—â—É—é, –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é –≤—ã–±–æ—Ä–∫–∏.
–î–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–µ, –Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ train/test –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å—Ç—Ä–æ—è—Ç—Å—è –Ω–∞ –≤—Å–µ–º –Ω–∞–±–æ—Ä–µ —Ç–æ–≤–∞—Ä–æ–≤.
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:
–î–∞–Ω–Ω—ã–µ: –¥–∞—Ç–∞—Å–µ—Ç —Å —Ç–æ–≤–∞—Ä–∞–º–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ —Ü–µ–ª–µ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é 'activity_category' (–∫–∞—Ç–µ–≥–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: 'rare', 'periodic', 'loyal')
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ: —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ train/validation/test, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –∫–∞–∂–¥–æ–π –≤—ã–±–æ—Ä–∫–µ.
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å:
–î–∞–Ω–Ω—ã–µ: –¥–∞—Ç–∞—Å–µ—Ç —Å —Ç–æ–≤–∞—Ä–∞–º–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ 'itemid'
–≠–º–±–µ–¥–¥–∏–Ω–≥–∏: —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å –ø–æ–º–æ—â—å—é PCA, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ: –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –º–æ–¥–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø–æ–∏—Å–∫–µ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –≤—Å–µ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–æ–≤–∞—Ä–æ–≤.

## –ú–æ–¥–µ–ª–∏ (–∫—Ä–∞—Ç–∫–æ)
- –ú–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ (TensorFlowProductClassifier) - –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤. –ú–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–∞ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
- –ú–æ–¥–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (TensorFlowRecommendationModel) - –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤. –ú–æ–¥–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å—Ç—Ä–æ–∏—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (CSV —Ñ–∞–π–ª) –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω.

## REST API
##### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ endpoints:
- –¢–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ - /api/health, /api/status
- –ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π - precision –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥–µ–ª–µ–π - –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏ –º–æ–¥–µ–ª–∏
##### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π, IP –∞–¥—Ä–µ—Å–æ–º –∫–ª–∏–µ–Ω—Ç–∞, Endpoint, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–∞, —Å—Ç–∞—Ç—É—Å–æ–º –æ—Ç–≤–µ—Ç–∞, –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
recommendation-system/
‚îú‚îÄ‚îÄ üìÅ api/                    # –ú–æ–¥—É–ª–∏ API
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ routes.py             # –ú–∞—Ä—à—Ä—É—Ç—ã Flask
‚îÇ   ‚îî‚îÄ‚îÄ validation.py         # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÅ models/                # –ú–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ data_processor.py     # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ product_classifier.h5 # –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ *.pkl & *.json       # –§–∞–π–ª—ã –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥–∞ –∏ –º–µ—Ç—Ä–∏–∫
‚îú‚îÄ‚îÄ üìÅ data/                  # –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ result_df_analysis.csv
‚îú‚îÄ‚îÄ üìÅ templates/             # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ üìÅ static/               # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ üê≥ Dockerfile            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ üìù requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ ‚öôÔ∏è config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ ü§ñ tensorflow_model.py   # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ TensorFlow
‚îú‚îÄ‚îÄ üîß app.py               # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask
‚îî‚îÄ‚îÄ üìö README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**
GET /

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ–±–Ω–æ—Å—Ç–∏**
GET /api/health
json
{
  "status": "healthy",
  "classification_model_loaded": true,
  "recommendation_model_loaded": true,
  "classifier_precision": 0.85,
  "items_in_database": 150,
  "version": "2.0.0"
}

**–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã**
GET /api/status

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
POST /api/recommend/item
Content-Type: application/json
{
  "item_id": 1001,
  "top_k": 10
}
**–û—Ç–≤–µ—Ç**
{
  "status": "success",
  "item_id": 1001,
  "recommendations": [
    {
      "item_id": 1005,
      "similarity": 0.92,
      "precision": 0.85
    }
  ],
  "total_recommendations": 10,
  "total_items_in_database": 150
}

**–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤**
GET /api/items
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ.

**–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞**
GET /api/items/search?item_id=1001
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏**
GET /api/model/metrics
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ú–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏**
### –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
Input (–ø—Ä–∏–∑–Ω–∞–∫–∏ —Ç–æ–≤–∞—Ä–∞)
    ‚Üì
Dense(32, relu) + Dropout(0.2)
    ‚Üì
Dense(16, relu) + Dropout(0.2)
    ‚Üì
Dense(3, softmax) ‚Üí [rare, periodic, loyal]

**–ú–æ–¥–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV
2. –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ PCA
3. –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
4. –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–ø-K –ø–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
DATA_PATH=data/result_df_analysis.csv
MODEL_PATH=models/product_classifier.h5

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Flask
FLASK_HOST=127.0.0.1
FLASK_PORT=5000
FLASK_DEBUG=True

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–µ–π**
##### –≤ config.py
MODEL_PARAMS = {
    'epochs': 20,
    'batch_size': 32,
    'test_size': 0.15,
    'embedding_dim': 50
}

**–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:
* Accuracy - –æ–±—â–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
* Precision - —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
* Recall - –ø–æ–ª–Ω–æ—Ç–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
* F1-Score - –≥–∞—Ä–º–æ–Ω–∏—á–µ—Å–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ
* Cosine Similarity - –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –í Docker

#### —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t recommendation-system .

#### –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ 
docker run -d \
  -p 5000:5000 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/models:/app/models \
  --name rec-system \
  recommendation-system

#### Docker Compose
version: '3.8'
services:
  recommendation-service:
    build: .
    ports:
      - "5000:5000"
    volumes:
      - ./data:/app/data
      - ./models:/app/models
    environment:
      - FLASK_ENV=production

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
* –í–≤–µ–¥–∏—Ç–µ ID —Ç–æ–≤–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1001)
* –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
### –ß–µ—Ä–µ–∑ API
–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–∞ 1001
curl -X POST http://localhost:5000/api/recommend/item \
  -H "Content-Type: application/json" \
  -d '{"item_id": 1001, "top_k": 5}'

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç–æ–≤–∞—Ä–∞
curl "http://localhost:5000/api/items/search?item_id=1001"
### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ
import requests
response = requests.post(
    "http://localhost:5000/api/recommend/item",
    json={"item_id": 1001, "top_k": 5}
)
recommendations = response.json()
for item in recommendations['recommendations']:
    print(f"–¢–æ–≤–∞—Ä {item['item_id']} - —Å—Ö–æ–∂–µ—Å—Ç—å: {item['similarity']:.2f}")


### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
git clone <repository-url>
cd recommendation-system
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/
curl http://localhost:5000/api/health
python test_recommendations.py

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
import logging
logger = logging.getLogger(__name__)
logger.info("–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω—ã")
logger.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏")



